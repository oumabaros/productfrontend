{"ast":null,"code":"var _jsxFileName = \"D:\\\\resources\\\\tarmac\\\\tovuti\\\\productappfrontend\\\\src\\\\apps\\\\NavContainer.js\";\nimport React, { Component } from 'react'; ///import http from './AppConfig';\n\nimport NavigationSubCategoryList from './NavigationSubCategoryList';\nimport NavigationCategoryList from './NavigationCategoryList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst axios = require('axios');\n\nconst CATEGORIES_ENDPOINT = 'https://api.gousto.co.uk/products/v2.0/categories';\nconst PRODUCTS_ENDPOINT = 'https://api.gousto.co.uk/products/v2.0/products?includes[]=categories&includes[]=attributes&sort=position&image_sizes[]=365&image_sizes[]=400&period_id=120';\n\nclass NavContainer extends Component {\n  getInitialState() {\n    return {\n      categories: [],\n      items: [],\n      selectedCategoryId: null\n    };\n  }\n\n  selectCategory(category) {\n    this.setState({\n      selectedCategoryId: category\n    });\n  }\n\n  componentDidMount() {\n    this.serverRequest = axios.all([axios.get(CATEGORIES_ENDPOINT), axios.get(PRODUCTS_ENDPOINT)]).then(axios.spread((categoriesResponse, itemsResponse) => {\n      console.log('Categories', categoriesResponse.data.data);\n      console.log('Item', itemsResponse.data.data); // This `this` should work due to ES6 arrow functions\n\n      this.setState({\n        categories: categoriesResponse.data.data,\n        items: itemsResponse.data.data\n      });\n    }));\n  }\n\n  componentWillUnmount() {\n    this.serverRequest.abort();\n  }\n\n  render() {\n    const {\n      categories,\n      items,\n      selectedCategoryId\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navigation\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Store Cupboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NavigationCategoryList, {\n        categories: categories // Pass the select function into the category list\n        // so the category items can call it when clicked\n        ,\n        selectCategory: this.selectCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NavigationSubCategoryList, {\n        items: items // Pass the selected category into the list of items\n        // to be used for filtering the list\n        ,\n        selectedCategoryId: selectedCategoryId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default NavContainer;","map":{"version":3,"sources":["D:/resources/tarmac/tovuti/productappfrontend/src/apps/NavContainer.js"],"names":["React","Component","NavigationSubCategoryList","NavigationCategoryList","axios","require","CATEGORIES_ENDPOINT","PRODUCTS_ENDPOINT","NavContainer","getInitialState","categories","items","selectedCategoryId","selectCategory","category","setState","componentDidMount","serverRequest","all","get","then","spread","categoriesResponse","itemsResponse","console","log","data","componentWillUnmount","abort","render","state"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC,C,CACA;;AACA,OAAOC,yBAAP,MAAsC,6BAAtC;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,MAAMC,mBAAmB,GAAG,mDAA5B;AACA,MAAMC,iBAAiB,GACrB,6JADF;;AAGA,MAAMC,YAAN,SAA2BP,SAA3B,CAAqC;AACnCQ,EAAAA,eAAe,GAAG;AAChB,WAAO;AACLC,MAAAA,UAAU,EAAE,EADP;AAELC,MAAAA,KAAK,EAAE,EAFF;AAGLC,MAAAA,kBAAkB,EAAE;AAHf,KAAP;AAKD;;AACDC,EAAAA,cAAc,CAACC,QAAD,EAAW;AACvB,SAAKC,QAAL,CAAc;AACZH,MAAAA,kBAAkB,EAAEE;AADR,KAAd;AAGD;;AACDE,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,aAAL,GAAqBb,KAAK,CACvBc,GADkB,CACd,CAACd,KAAK,CAACe,GAAN,CAAUb,mBAAV,CAAD,EAAiCF,KAAK,CAACe,GAAN,CAAUZ,iBAAV,CAAjC,CADc,EAElBa,IAFkB,CAGjBhB,KAAK,CAACiB,MAAN,CAAa,CAACC,kBAAD,EAAqBC,aAArB,KAAuC;AAClDC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BH,kBAAkB,CAACI,IAAnB,CAAwBA,IAAlD;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,aAAa,CAACG,IAAd,CAAmBA,IAAvC,EAFkD,CAIlD;;AACA,WAAKX,QAAL,CAAc;AACZL,QAAAA,UAAU,EAAEY,kBAAkB,CAACI,IAAnB,CAAwBA,IADxB;AAEZf,QAAAA,KAAK,EAAEY,aAAa,CAACG,IAAd,CAAmBA;AAFd,OAAd;AAID,KATD,CAHiB,CAArB;AAcD;;AACDC,EAAAA,oBAAoB,GAAG;AACrB,SAAKV,aAAL,CAAmBW,KAAnB;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEnB,MAAAA,UAAF;AAAcC,MAAAA,KAAd;AAAqBC,MAAAA;AAArB,QAA4C,KAAKkB,KAAvD;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAGE,QAAC,sBAAD;AACE,QAAA,UAAU,EAAEpB,UADd,CAEE;AACA;AAHF;AAIE,QAAA,cAAc,EAAE,KAAKG;AAJvB;AAAA;AAAA;AAAA;AAAA,cAHF,eAUE,QAAC,yBAAD;AACE,QAAA,KAAK,EAAEF,KADT,CAEE;AACA;AAHF;AAIE,QAAA,kBAAkB,EAAEC;AAJtB;AAAA;AAAA;AAAA;AAAA,cAVF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAmBD;;AAvDkC;;AAyDrC,eAAeJ,YAAf","sourcesContent":["import React, { Component } from 'react';\r\n///import http from './AppConfig';\r\nimport NavigationSubCategoryList from './NavigationSubCategoryList';\r\nimport NavigationCategoryList from './NavigationCategoryList';\r\nconst axios = require('axios');\r\n\r\nconst CATEGORIES_ENDPOINT = 'https://api.gousto.co.uk/products/v2.0/categories';\r\nconst PRODUCTS_ENDPOINT =\r\n  'https://api.gousto.co.uk/products/v2.0/products?includes[]=categories&includes[]=attributes&sort=position&image_sizes[]=365&image_sizes[]=400&period_id=120';\r\n\r\nclass NavContainer extends Component {\r\n  getInitialState() {\r\n    return {\r\n      categories: [],\r\n      items: [],\r\n      selectedCategoryId: null,\r\n    };\r\n  }\r\n  selectCategory(category) {\r\n    this.setState({\r\n      selectedCategoryId: category,\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    this.serverRequest = axios\r\n      .all([axios.get(CATEGORIES_ENDPOINT), axios.get(PRODUCTS_ENDPOINT)])\r\n      .then(\r\n        axios.spread((categoriesResponse, itemsResponse) => {\r\n          console.log('Categories', categoriesResponse.data.data);\r\n          console.log('Item', itemsResponse.data.data);\r\n\r\n          // This `this` should work due to ES6 arrow functions\r\n          this.setState({\r\n            categories: categoriesResponse.data.data,\r\n            items: itemsResponse.data.data,\r\n          });\r\n        }),\r\n      );\r\n  }\r\n  componentWillUnmount() {\r\n    this.serverRequest.abort();\r\n  }\r\n\r\n  render() {\r\n    const { categories, items, selectedCategoryId } = this.state;\r\n\r\n    return (\r\n      <div className=\"navigation\">\r\n        <h1>Store Cupboard</h1>\r\n\r\n        <NavigationCategoryList\r\n          categories={categories}\r\n          // Pass the select function into the category list\r\n          // so the category items can call it when clicked\r\n          selectCategory={this.selectCategory}\r\n        />\r\n\r\n        <NavigationSubCategoryList\r\n          items={items}\r\n          // Pass the selected category into the list of items\r\n          // to be used for filtering the list\r\n          selectedCategoryId={selectedCategoryId}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default NavContainer;\r\n"]},"metadata":{},"sourceType":"module"}