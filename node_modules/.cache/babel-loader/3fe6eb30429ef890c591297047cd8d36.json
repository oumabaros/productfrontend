{"ast":null,"code":"var _jsxFileName = \"D:\\\\resources\\\\tarmac\\\\tovuti\\\\productappfrontend\\\\src\\\\apps\\\\NavContainer.js\";\nimport React, { Component } from 'react';\nimport http from './AppConfig';\nimport NavigationSubCategoryList from './NavigationSubCategoryList';\nimport NavigationCategoryList from './NavigationCategoryList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CATEGORIES_ENDPOINT = '/productCategories';\nconst PRODUCTS_ENDPOINT = '/products';\n\nclass NavContainer extends Component {\n  getInitialState() {\n    return {\n      categories: [],\n      items: [],\n      selectedCategoryId: null\n    };\n  }\n\n  selectCategory(category) {\n    this.setState({\n      selectedCategoryId: category\n    });\n  }\n\n  componentDidMount() {\n    this.serverRequest = http.all([http.get(CATEGORIES_ENDPOINT), http.get(PRODUCTS_ENDPOINT)]).then(http.spread((categoriesResponse, itemsResponse) => {\n      console.log('Categories', categoriesResponse);\n      console.log('Item', itemsResponse); // This `this` should work due to ES6 arrow functions\n\n      this.setState({\n        categories: categoriesResponse,\n        items: itemsResponse\n      });\n    }));\n  }\n\n  componentWillUnmount() {\n    this.serverRequest.abort();\n  }\n\n  render() {\n    const {\n      categories,\n      items,\n      selectedCategoryId\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navigation\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Store Cupboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NavigationCategoryList, {\n        categories: categories // Pass the select function into the category list\n        // so the category items can call it when clicked\n        ,\n        selectCategory: this.selectCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NavigationSubCategoryList, {\n        items: items // Pass the selected category into the list of items\n        // to be used for filtering the list\n        ,\n        selectedCategoryId: selectedCategoryId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default NavContainer;","map":{"version":3,"sources":["D:/resources/tarmac/tovuti/productappfrontend/src/apps/NavContainer.js"],"names":["React","Component","http","NavigationSubCategoryList","NavigationCategoryList","CATEGORIES_ENDPOINT","PRODUCTS_ENDPOINT","NavContainer","getInitialState","categories","items","selectedCategoryId","selectCategory","category","setState","componentDidMount","serverRequest","all","get","then","spread","categoriesResponse","itemsResponse","console","log","componentWillUnmount","abort","render","state"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,yBAAP,MAAsC,6BAAtC;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;;AAEA,MAAMC,mBAAmB,GAAG,oBAA5B;AACA,MAAMC,iBAAiB,GAAG,WAA1B;;AAEA,MAAMC,YAAN,SAA2BN,SAA3B,CAAqC;AACnCO,EAAAA,eAAe,GAAG;AAChB,WAAO;AACLC,MAAAA,UAAU,EAAE,EADP;AAELC,MAAAA,KAAK,EAAE,EAFF;AAGLC,MAAAA,kBAAkB,EAAE;AAHf,KAAP;AAKD;;AACDC,EAAAA,cAAc,CAACC,QAAD,EAAW;AACvB,SAAKC,QAAL,CAAc;AACZH,MAAAA,kBAAkB,EAAEE;AADR,KAAd;AAGD;;AACDE,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,aAAL,GAAqBd,IAAI,CACtBe,GADkB,CACd,CAACf,IAAI,CAACgB,GAAL,CAASb,mBAAT,CAAD,EAAgCH,IAAI,CAACgB,GAAL,CAASZ,iBAAT,CAAhC,CADc,EAElBa,IAFkB,CAGjBjB,IAAI,CAACkB,MAAL,CAAY,CAACC,kBAAD,EAAqBC,aAArB,KAAuC;AACjDC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BH,kBAA1B;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,aAApB,EAFiD,CAIjD;;AACA,WAAKR,QAAL,CAAc;AACZL,QAAAA,UAAU,EAAEY,kBADA;AAEZX,QAAAA,KAAK,EAAEY;AAFK,OAAd;AAID,KATD,CAHiB,CAArB;AAcD;;AACDG,EAAAA,oBAAoB,GAAG;AACrB,SAAKT,aAAL,CAAmBU,KAAnB;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAElB,MAAAA,UAAF;AAAcC,MAAAA,KAAd;AAAqBC,MAAAA;AAArB,QAA4C,KAAKiB,KAAvD;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAGE,QAAC,sBAAD;AACE,QAAA,UAAU,EAAEnB,UADd,CAEE;AACA;AAHF;AAIE,QAAA,cAAc,EAAE,KAAKG;AAJvB;AAAA;AAAA;AAAA;AAAA,cAHF,eAUE,QAAC,yBAAD;AACE,QAAA,KAAK,EAAEF,KADT,CAEE;AACA;AAHF;AAIE,QAAA,kBAAkB,EAAEC;AAJtB;AAAA;AAAA;AAAA;AAAA,cAVF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAmBD;;AAvDkC;;AAyDrC,eAAeJ,YAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport http from './AppConfig';\r\nimport NavigationSubCategoryList from './NavigationSubCategoryList';\r\nimport NavigationCategoryList from './NavigationCategoryList';\r\n\r\nconst CATEGORIES_ENDPOINT = '/productCategories';\r\nconst PRODUCTS_ENDPOINT = '/products';\r\n\r\nclass NavContainer extends Component {\r\n  getInitialState() {\r\n    return {\r\n      categories: [],\r\n      items: [],\r\n      selectedCategoryId: null,\r\n    };\r\n  }\r\n  selectCategory(category) {\r\n    this.setState({\r\n      selectedCategoryId: category,\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    this.serverRequest = http\r\n      .all([http.get(CATEGORIES_ENDPOINT), http.get(PRODUCTS_ENDPOINT)])\r\n      .then(\r\n        http.spread((categoriesResponse, itemsResponse) => {\r\n          console.log('Categories', categoriesResponse);\r\n          console.log('Item', itemsResponse);\r\n\r\n          // This `this` should work due to ES6 arrow functions\r\n          this.setState({\r\n            categories: categoriesResponse,\r\n            items: itemsResponse,\r\n          });\r\n        }),\r\n      );\r\n  }\r\n  componentWillUnmount() {\r\n    this.serverRequest.abort();\r\n  }\r\n\r\n  render() {\r\n    const { categories, items, selectedCategoryId } = this.state;\r\n\r\n    return (\r\n      <div className=\"navigation\">\r\n        <h1>Store Cupboard</h1>\r\n\r\n        <NavigationCategoryList\r\n          categories={categories}\r\n          // Pass the select function into the category list\r\n          // so the category items can call it when clicked\r\n          selectCategory={this.selectCategory}\r\n        />\r\n\r\n        <NavigationSubCategoryList\r\n          items={items}\r\n          // Pass the selected category into the list of items\r\n          // to be used for filtering the list\r\n          selectedCategoryId={selectedCategoryId}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default NavContainer;\r\n"]},"metadata":{},"sourceType":"module"}